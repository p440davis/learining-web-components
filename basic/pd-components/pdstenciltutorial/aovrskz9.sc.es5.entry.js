pdStencilTutorial.loadBundle("aovrskz9",["exports","./chunk-fa39cea2.js"],function(t,e){var o=window.pdStencilTutorial.h,n=function(){function t(){this.validInput=!1,this.loading=!1,this.apiUrl="https://www.alphavantage.co/query?function=GLOBAL_QUOTE"}return t.prototype.stockSymbolChanged=function(t,e){t&&t!==e&&(this.fetchStockPrice(t),this.stockInput=t,this.validInput=!0)},t.prototype.onStockInput=function(t){this.stockInput=t.target.value.trim(),this.validInput=Boolean(this.stockInput)},t.prototype.onFetchStockPrice=function(t){t.preventDefault(),this.stockSymbol=this.stockInput},t.prototype.componentWillLoad=function(){this.stockSymbol&&(this.stockInput=this.stockSymbol,this.validInput=!0)},t.prototype.componentDidLoad=function(){this.stockSymbol&&this.fetchStockPrice(this.stockSymbol)},t.prototype.onStockSymbolSelected=function(t){console.log("selected"),t.detail&&t.detail!==this.stockSymbol&&(this.stockSymbol=t.detail)},t.prototype.fetchStockPrice=function(t){var o=this;this.loading=!0,fetch(this.apiUrl+"&symbol="+t+"&apikey="+e.AV_API_KEY).then(function(t){if(200!==t.status)throw new Error("Invalid!");return t.json()}).then(function(t){if(!t["Global Quote"]["05. price"])throw new Error("Invalid symbol!");o.error=null,o.fetchedPrice=+t["Global Quote"]["05. price"],o.loading=!1}).catch(function(t){o.error=t.message,o.fetchedPrice=null,o.loading=!1})},t.prototype.hostData=function(){return{class:this.error&&"error"}},t.prototype.render=function(){var t=o("p",null,"Â ");return this.loading?t=o("pd-spinner",null):this.error?t=o("p",null,this.error):this.fetchedPrice&&(t=o("p",null,"Price: $",this.fetchedPrice)),[o("form",{onSubmit:this.onFetchStockPrice.bind(this)},o("input",{name:"stock-symbol",value:this.stockInput,onInput:this.onStockInput.bind(this)}),o("button",{type:"submit",disabled:!this.validInput||this.loading},"Fetch price")),t]},Object.defineProperty(t,"is",{get:function(){return"pd-stock-price"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"encapsulation",{get:function(){return"shadow"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{error:{state:!0},fetchedPrice:{state:!0},loading:{state:!0},stockInput:{state:!0},stockSymbol:{type:String,attr:"stock-symbol",reflectToAttr:!0,mutable:!0,watchCallbacks:["stockSymbolChanged"]},validInput:{state:!0}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"listeners",{get:function(){return[{name:"body:pdStockSelected",method:"onStockSymbolSelected"}]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return".sc-pd-stock-price-h{display:inline-block;width:-webkit-max-content;width:-moz-max-content;width:max-content;margin-top:1rem;padding:.5rem;background-color:#2e8b57}.error.sc-pd-stock-price-h{background-color:#c71585}"},enumerable:!0,configurable:!0}),t}();t.PdStockPrice=n,Object.defineProperty(t,"__esModule",{value:!0})});